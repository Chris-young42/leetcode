/**
 * @param {number} n - æ‹¬å·å¯¹æ•°ï¼Œæ¯”å¦‚ n = 3 å°±è¡¨ç¤º 3 å¯¹æ‹¬å·
 * @return {string[]} - è¿”å›æ‰€æœ‰åˆæ³•çš„æ‹¬å·ç»„åˆ
 */
var generateParenthesis = function (n) {
  const ans = [];                // ç”¨æ¥ä¿å­˜æ‰€æœ‰åˆæ³•çš„æ‹¬å·ç»„åˆ
  const path = Array(n * 2);     // ç”¨æ•°ç»„ä¿å­˜å½“å‰æ„é€ çš„æ‹¬å·åºåˆ—ï¼ˆé•¿åº¦å›ºå®š 2nï¼‰

  /**
   * æ·±åº¦ä¼˜å…ˆæœç´¢
   * @param {number} left - å½“å‰å·²ç»ä½¿ç”¨äº†å¤šå°‘ä¸ªå·¦æ‹¬å· "("
   * @param {number} right - å½“å‰å·²ç»ä½¿ç”¨äº†å¤šå°‘ä¸ªå³æ‹¬å· ")"
   */
  function dfs(left, right) {
    // âœ… é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š
    // å½“å³æ‹¬å·æ•°é‡ç­‰äº n æ—¶ï¼Œè¯´æ˜å·¦æ‹¬å·å’Œå³æ‹¬å·éƒ½å·²ç»ç”¨å®Œ
    // å½“å‰ path å°±æ˜¯ä¸€ç§åˆæ³•çš„æ‹¬å·ç»„åˆ
    if (right === n) {
      ans.push(path.join(""));   // æŠŠæ•°ç»„æ‹¼æˆå­—ç¬¦ä¸²åŠ å…¥ç»“æœé›†
      return;
    }

    // ğŸ‘‰ æƒ…å†µ 1ï¼šè¿˜èƒ½æ”¾å·¦æ‹¬å·
    // åªè¦å·¦æ‹¬å·è¿˜æ²¡ç”¨æ»¡ï¼Œå°±å¯ä»¥ç»§ç»­æ”¾ä¸€ä¸ªå·¦æ‹¬å·
    if (left < n) {
      path[left + right] = "(";  // åœ¨å½“å‰ä½ç½®æ”¾ä¸€ä¸ª "("
      dfs(left + 1, right);      // å·¦æ‹¬å·æ•°é‡ +1ï¼Œç»§ç»­é€’å½’
    }

    // ğŸ‘‰ æƒ…å†µ 2ï¼šæ”¾å³æ‹¬å·
    // æ”¾å³æ‹¬å·çš„å‰ææ˜¯å·²ç»æ”¾çš„å·¦æ‹¬å·æ•°é‡è¦æ¯”å³æ‹¬å·å¤š
    // å¦åˆ™å°±ä¼šå‡ºç°ä¸åˆæ³•çš„æƒ…å†µï¼Œæ¯”å¦‚ ")("
    if (right < left) {
      path[left + right] = ")";  // åœ¨å½“å‰ä½ç½®æ”¾ä¸€ä¸ª ")"
      dfs(left, right + 1);      // å³æ‹¬å·æ•°é‡ +1ï¼Œç»§ç»­é€’å½’
    }
  }

  // ä» 0 å·¦æ‹¬å·ã€0 å³æ‹¬å·å¼€å§‹é€’å½’
  dfs(0, 0);
  return ans;
};
